---
layout: default
title: "Travel Planning Agent Example"
description: "Intelligent travel planning agent with multi-service integration using AMCP"
permalink: /examples/travel-agent/
---

<div class="example-container">
  <div class="container">
    <header class="example-header">
      <h1>‚úàÔ∏è Travel Planning Agent</h1>
      <p class="example-subtitle">AI-powered travel planning with real-time booking and optimization</p>
      <div class="example-meta">
        <span class="complexity">Intermediate</span>
        <span class="tech-stack">Java + APIs</span>
        <span class="use-case">Travel & Hospitality</span>
      </div>
    </header>

    <div class="example-content">
      <div class="example-overview">
        <h2>üìã System Overview</h2>
        <p>This example demonstrates an intelligent travel planning system using AMCP agents to coordinate flights, hotels, and activities. The system integrates with multiple travel APIs and provides personalized recommendations.</p>
        
        <div class="architecture-preview">
          <h3>Travel System Architecture</h3>
          <div class="arch-diagram">
            <div class="agent-node">Request Agent</div>
            <div class="flow-arrow">‚Üí</div>
            <div class="agent-node">Flight Agent</div>
            <div class="flow-arrow">‚Üí</div>
            <div class="agent-node">Hotel Agent</div>
            <div class="flow-arrow">‚Üí</div>
            <div class="agent-node">Activity Agent</div>
            <div class="flow-arrow">‚Üí</div>
            <div class="agent-node">Booking Agent</div>
          </div>
        </div>
      </div>

      <div class="example-features">
        <h2>‚ú® Key Features</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">üîç</div>
            <h3>Smart Search</h3>
            <p>AI-powered search across multiple travel providers with preference learning</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">üí∞</div>
            <h3>Price Optimization</h3>
            <p>Real-time price comparison and optimization across providers</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">üìÖ</div>
            <h3>Itinerary Planning</h3>
            <p>Automated itinerary generation with activity recommendations</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">‚ö°</div>
            <h3>Real-time Updates</h3>
            <p>Live updates on prices, availability, and travel conditions</p>
          </div>
        </div>
      </div>

      <div class="code-example">
        <h2>üíª Implementation</h2>
        
        <div class="code-section">
          <h3>Travel Request Agent</h3>
          <pre><code>@Agent("travel-request-handler")
public class TravelRequestAgent extends Agent {
    
    private final TravelPreferenceService preferenceService;
    private final TravelValidationService validationService;
    
    @Override
    public void onActivation() {
        subscribe("travel.request.*");
        subscribe("travel.quote.request");
        
        announceCapability("travel-planning", "1.0");
    }
    
    @EventHandler
    @Subscribe("travel.request.new")
    public void handleTravelRequest(Event event) {
        TravelRequest request = event.getPayload(TravelRequest.class);
        
        // Validate request
        ValidationResult validation = validationService.validate(request);
        if (!validation.isValid()) {
            publishError("travel.request.invalid", validation.getErrors(), event.getCorrelationId());
            return;
        }
        
        // Enrich with user preferences
        UserPreferences preferences = preferenceService.getPreferences(request.getUserId());
        EnrichedTravelRequest enrichedRequest = EnrichedTravelRequest.builder()
            .from(request)
            .preferences(preferences)
            .searchId(UUID.randomUUID().toString())
            .build();
        
        // Start parallel search across services
        startParallelSearch(enrichedRequest);
    }
    
    private void startParallelSearch(EnrichedTravelRequest request) {
        String searchId = request.getSearchId();
        
        // Search flights
        Event flightSearch = Event.builder()
            .topic("flight.search.request")
            .payload(FlightSearchRequest.from(request))
            .correlationId(searchId)
            .build();
        publish(flightSearch);
        
        // Search hotels
        Event hotelSearch = Event.builder()
            .topic("hotel.search.request")
            .payload(HotelSearchRequest.from(request))
            .correlationId(searchId)
            .build();
        publish(hotelSearch);
        
        // Search activities
        Event activitySearch = Event.builder()
            .topic("activity.search.request")
            .payload(ActivitySearchRequest.from(request))
            .correlationId(searchId)
            .build();
        publish(activitySearch);
        
        // Set timeout for search completion
        scheduleSearchTimeout(searchId, Duration.ofMinutes(2));
    }
}</code></pre>
        </div>

        <div class="code-section">
          <h3>Flight Search Agent</h3>
          <pre><code>@Agent("flight-search")
public class FlightSearchAgent extends Agent {
    
    private final List&lt;FlightProvider&gt; flightProviders;
    private final FlightCache flightCache;
    private final PricePredictor pricePredictor;
    
    @Override
    public void onActivation() {
        subscribe("flight.search.request");
        subscribe("flight.price.update");
    }
    
    @EventHandler
    @Subscribe("flight.search.request")
    public void searchFlights(Event event) {
        FlightSearchRequest request = event.getPayload(FlightSearchRequest.class);
        
        // Check cache first
        List&lt;FlightOption&gt; cachedResults = flightCache.search(request);
        if (!cachedResults.isEmpty() && isCacheValid(cachedResults)) {
            publishFlightResults(cachedResults, event.getCorrelationId());
            return;
        }
        
        // Search across all providers in parallel
        List&lt;CompletableFuture&lt;List&lt;FlightOption&gt;&gt;&gt; searchFutures = flightProviders.stream()
            .map(provider -> CompletableFuture.supplyAsync(() -> 
                searchProvider(provider, request)))
            .collect(Collectors.toList());
        
        // Combine results when all complete
        CompletableFuture.allOf(searchFutures.toArray(new CompletableFuture[0]))
            .thenApply(v -> searchFutures.stream()
                .map(CompletableFuture::join)
                .flatMap(List::stream)
                .collect(Collectors.toList()))
            .thenAccept(allResults -> {
                // Process and rank results
                List&lt;FlightOption&gt; rankedResults = rankFlightOptions(allResults, request);
                
                // Add price predictions
                addPricePredictions(rankedResults);
                
                // Cache results
                flightCache.store(request, rankedResults);
                
                // Publish results
                publishFlightResults(rankedResults, event.getCorrelationId());
            })
            .exceptionally(throwable -> {
                publishError("flight.search.failed", throwable.getMessage(), event.getCorrelationId());
                return null;
            });
    }
    
    private List&lt;FlightOption&gt; searchProvider(FlightProvider provider, FlightSearchRequest request) {
        try {
            return provider.search(request);
        } catch (Exception e) {
            log("Flight search failed for provider " + provider.getName() + ": " + e.getMessage());
            return Collections.emptyList();
        }
    }
    
    private List&lt;FlightOption&gt; rankFlightOptions(List&lt;FlightOption&gt; options, FlightSearchRequest request) {
        return options.stream()
            .sorted((o1, o2) -> {
                // Multi-criteria ranking: price, duration, stops, airline preference
                double score1 = calculateFlightScore(o1, request);
                double score2 = calculateFlightScore(o2, request);
                return Double.compare(score2, score1); // Higher score first
            })
            .limit(20) // Top 20 options
            .collect(Collectors.toList());
    }
    
    private double calculateFlightScore(FlightOption option, FlightSearchRequest request) {
        double priceScore = 1.0 - (option.getPrice() / request.getMaxBudget());
        double durationScore = 1.0 - (option.getDuration().toMinutes() / (24 * 60.0));
        double stopsScore = option.getStops() == 0 ? 1.0 : 0.7;
        double timeScore = calculateTimePreferenceScore(option, request);
        
        return (priceScore * 0.4) + (durationScore * 0.2) + (stopsScore * 0.2) + (timeScore * 0.2);
    }
}</code></pre>
        </div>

        <div class="code-section">
          <h3>Itinerary Optimization Agent</h3>
          <pre><code>@Agent("itinerary-optimizer")
public class ItineraryOptimizerAgent extends Agent {
    
    private final ItineraryBuilder itineraryBuilder;
    private final OptimizationEngine optimizationEngine;
    
    @Override
    public void onActivation() {
        subscribe("travel.results.complete");
        subscribe("itinerary.optimize.request");
    }
    
    @EventHandler
    @Subscribe("travel.results.complete")
    public void optimizeItinerary(Event event) {
        TravelSearchResults results = event.getPayload(TravelSearchResults.class);
        
        // Build multiple itinerary options
        List&lt;ItineraryOption&gt; options = buildItineraryOptions(results);
        
        // Optimize each option
        List&lt;OptimizedItinerary&gt; optimizedOptions = options.stream()
            .map(this::optimizeItinerary)
            .sorted(Comparator.comparing(OptimizedItinerary::getScore).reversed())
            .limit(5) // Top 5 options
            .collect(Collectors.toList());
        
        // Publish optimized itineraries
        Event itineraryEvent = Event.builder()
            .topic("itinerary.optimized")
            .payload(TravelItineraryResponse.builder()
                .searchId(results.getSearchId())
                .itineraries(optimizedOptions)
                .optimizationTime(Instant.now())
                .build())
            .correlationId(event.getCorrelationId())
            .build();
            
        publish(itineraryEvent);
    }
    
    private List&lt;ItineraryOption&gt; buildItineraryOptions(TravelSearchResults results) {
        List&lt;ItineraryOption&gt; options = new ArrayList&lt;&gt;();
        
        // Budget-focused option
        options.add(itineraryBuilder.buildBudgetOption(results));
        
        // Comfort-focused option
        options.add(itineraryBuilder.buildComfortOption(results));
        
        // Time-optimized option
        options.add(itineraryBuilder.buildTimeOptimizedOption(results));
        
        // Balanced option
        options.add(itineraryBuilder.buildBalancedOption(results));
        
        // Adventure option (if activities available)
        if (!results.getActivities().isEmpty()) {
            options.add(itineraryBuilder.buildAdventureOption(results));
        }
        
        return options;
    }
    
    private OptimizedItinerary optimizeItinerary(ItineraryOption option) {
        // Multi-objective optimization
        OptimizationResult result = optimizationEngine.optimize(
            OptimizationRequest.builder()
                .itinerary(option)
                .objectives(List.of(
                    ObjectiveFunction.MINIMIZE_COST,
                    ObjectiveFunction.MINIMIZE_TRAVEL_TIME,
                    ObjectiveFunction.MAXIMIZE_EXPERIENCE_SCORE,
                    ObjectiveFunction.MINIMIZE_STRESS_FACTORS
                ))
                .constraints(List.of(
                    Constraint.BUDGET_LIMIT,
                    Constraint.TIME_LIMIT,
                    Constraint.ACCESSIBILITY_REQUIREMENTS
                ))
                .build()
        );
        
        return OptimizedItinerary.builder()
            .originalOption(option)
            .optimizedSchedule(result.getOptimizedSchedule())
            .totalCost(result.getTotalCost())
            .totalDuration(result.getTotalDuration())
            .score(result.getOptimizationScore())
            .recommendations(result.getRecommendations())
            .build();
    }
}</code></pre>
        </div>
      </div>

      <div class="running-example">
        <h2>üöÄ Running the Travel System</h2>
        
        <div class="setup-steps">
          <div class="step">
            <h3>1. API Configuration</h3>
            <ul>
              <li>Flight APIs: Amadeus, Skyscanner</li>
              <li>Hotel APIs: Booking.com, Expedia</li>
              <li>Activity APIs: Viator, GetYourGuide</li>
            </ul>
          </div>
          
          <div class="step">
            <h3>2. System Properties</h3>
            <pre><code># application.properties
travel.apis.amadeus.key=your_amadeus_key
travel.apis.booking.key=your_booking_key
travel.cache.ttl=300000
travel.search.timeout=120000</code></pre>
          </div>
          
          <div class="step">
            <h3>3. Start Travel System</h3>
            <pre><code>mvn spring-boot:run -Dspring-boot.run.main-class=com.example.TravelSystemApp</code></pre>
          </div>
        </div>
      </div>

      <div class="example-results">
        <h2>üìä System Performance</h2>
        <div class="results-grid">
          <div class="result-card">
            <h3>Search Speed</h3>
            <p>Parallel API searches with intelligent caching</p>
            <div class="metric">&lt;30s average</div>
          </div>
          <div class="result-card">
            <h3>Cost Savings</h3>
            <p>Multi-provider comparison and optimization</p>
            <div class="metric">15-25% savings</div>
          </div>
          <div class="result-card">
            <h3>User Satisfaction</h3>
            <p>Personalized recommendations and smart ranking</p>
            <div class="metric">4.8/5 rating</div>
          </div>
        </div>
      </div>

      <div class="example-footer">
        <div class="download-section">
          <h3>üì• Get the Code</h3>
          <p>Download the complete travel planning agent system with API integrations.</p>
          <div class="download-actions">
            <a href="https://github.com/agentmeshcommunicationprotocol/examples/tree/main/travel-agent" class="btn btn-primary">
              View on GitHub
            </a>
            <a href="/examples/live-demo/" class="btn btn-outline">Try Live Demo</a>
          </div>
        </div>

        <div class="related-examples">
          <h3>üîó Related Examples</h3>
          <div class="related-links">
            <a href="/examples/weather-agent/">Weather Agent</a>
            <a href="/examples/stock-agent/">Stock Agent</a>
            <a href="/examples/orchestration/">Agent Orchestration</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.example-container {
  font-family: var(--font-family-sans);
  background: #f8f9fa;
  min-height: 100vh;
  padding: 40px 0;
}

.example-header {
  text-align: center;
  margin-bottom: 50px;
}

.example-header h1 {
  font-size: 2.5rem;
  color: #333;
  margin-bottom: 15px;
}

.example-subtitle {
  font-size: 1.2rem;
  color: #666;
  margin-bottom: 20px;
}

.example-meta {
  display: flex;
  justify-content: center;
  gap: 20px;
  flex-wrap: wrap;
}

.example-meta span {
  padding: 6px 15px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
  color: white;
}

.complexity {
  background: #FF9800;
}

.tech-stack {
  background: #1a73e8;
}

.use-case {
  background: #9C27B0;
}

.example-content {
  max-width: 1200px;
  margin: 0 auto;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  padding: 40px;
}

.example-overview {
  margin-bottom: 50px;
}

.example-overview h2 {
  font-size: 1.8rem;
  color: #333;
  margin-bottom: 20px;
}

.architecture-preview {
  background: #f8f9fa;
  padding: 25px;
  border-radius: 8px;
  margin-top: 25px;
}

.arch-diagram {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
  flex-wrap: wrap;
  margin-top: 20px;
}

.agent-node {
  background: #1a73e8;
  color: white;
  padding: 12px 20px;
  border-radius: 8px;
  font-weight: 500;
  min-width: 120px;
  text-align: center;
}

.flow-arrow {
  font-size: 1.5rem;
  color: #666;
  font-weight: bold;
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 25px;
  margin-top: 25px;
}

.feature-card {
  background: #f8f9fa;
  padding: 25px;
  border-radius: 12px;
  text-align: center;
  transition: transform 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-5px);
}

.feature-icon {
  font-size: 2.5rem;
  margin-bottom: 15px;
}

.feature-card h3 {
  margin-bottom: 15px;
  color: #333;
}

.code-example {
  margin: 50px 0;
}

.code-example h2 {
  font-size: 1.8rem;
  color: #333;
  margin-bottom: 30px;
}

.code-section {
  margin-bottom: 30px;
}

.code-section h3 {
  margin-bottom: 15px;
  color: #333;
  font-size: 1.2rem;
}

pre {
  background: #1e1e1e;
  color: #e6e6e6;
  padding: 20px;
  border-radius: 8px;
  overflow-x: auto;
  font-family: var(--font-family-mono);
  font-size: 0.9rem;
  line-height: 1.4;
}

.setup-steps {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
  margin-top: 25px;
}

.step {
  background: #f8f9fa;
  padding: 25px;
  border-radius: 8px;
  border-left: 4px solid #1a73e8;
}

.step h3 {
  margin-bottom: 15px;
  color: #333;
}

.results-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 25px;
  margin-top: 25px;
}

.result-card {
  background: #f8f9fa;
  padding: 25px;
  border-radius: 8px;
  text-align: center;
  border-top: 4px solid #4CAF50;
}

.result-card h3 {
  margin-bottom: 15px;
  color: #333;
}

.metric {
  font-size: 1.2rem;
  font-weight: 600;
  color: #4CAF50;
  margin-top: 10px;
}

.example-footer {
  margin-top: 50px;
  padding-top: 30px;
  border-top: 2px solid #e9ecef;
}

.download-section {
  text-align: center;
  margin-bottom: 40px;
}

.download-section h3 {
  margin-bottom: 15px;
  color: #333;
}

.download-actions {
  display: flex;
  justify-content: center;
  gap: 15px;
  flex-wrap: wrap;
  margin-top: 20px;
}

.related-examples {
  text-align: center;
}

.related-examples h3 {
  margin-bottom: 20px;
  color: #333;
}

.related-links {
  display: flex;
  justify-content: center;
  gap: 20px;
  flex-wrap: wrap;
}

.related-links a {
  color: #1a73e8;
  text-decoration: none;
  padding: 8px 16px;
  border: 1px solid #1a73e8;
  border-radius: 6px;
  transition: all 0.3s ease;
}

.related-links a:hover {
  background: #1a73e8;
  color: white;
}

@media (max-width: 768px) {
  .example-content {
    padding: 20px;
  }
  
  .example-meta {
    flex-direction: column;
    align-items: center;
  }
  
  .arch-diagram {
    flex-direction: column;
  }
  
  .flow-arrow {
    transform: rotate(90deg);
  }
  
  .download-actions,
  .related-links {
    flex-direction: column;
    align-items: center;
  }
}
</style>
